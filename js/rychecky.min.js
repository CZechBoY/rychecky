var host=window.location.hostname;var relative_path="/";$(function(){if($(".portfolio").length>0){initialize_isotope()}if(host=="localhost"){relative_path="/rychecky/"}$(".gallery a").fancybox();if($("#gmap-iframe").length>0){gmap_resize();$(window).resize(gmap_resize)}$(".timeline .event").bind("mouseover click",timeline_type_focus)});function portfolio(portfolio_id){var modal=$("#portfolio-modal");$.ajax({type:"GET",url:relative_path+"/app/ajax/portfolio.ajax.php",data:{portfolio_id:portfolio_id},success:function(data,textStatus,xhr){var obj=$.parseJSON(data);modal.find(".modal-title").html(obj.title);modal.find(".modal-body").html(obj.body)}});modal.modal("show");setTimeout(initialize_fancybox,"300")}function initialize_fancybox(){$(".gallery a").fancybox()}function initialize_isotope(){var $container=$(".isotope").isotope({itemSelector:".portfolio",layoutMode:"fitRows",getSortData:{name:"[data-name]",age:function(item){return parseInt($(item).data("age"))},size:function(item){return parseInt($(item).data("size"))}}});var filterFns={};$("#filters .btn").click(function(){var filterValue=$(this).attr("data-filter");filterValue=filterFns[filterValue]||filterValue;$container.isotope({filter:filterValue});$(this).closest(".btn-group").find(".btn").removeClass("btn-light");$(this).addClass("btn-light")});$("#sorts .btn").click(function(){var sortByValue=$(this).attr("data-sort-by");$container.isotope({sortBy:sortByValue})});$("#filters .btn, #sorts .btn").click(function(){$(this).closest(".btn-group").find(".btn").removeClass("btn-light");$(this).closest(".btn-group").find(".btn").addClass("btn-dark");$(this).removeClass("btn-dark");$(this).addClass("btn-light")})}function timeline_type_focus(){var type=$(this).data("type");$(".event").css({opacity:.4});$(this).css({opacity:1});$('.event[data-type="'+type+'"]').css({opacity:.9});$(this).mouseleave(function(){$(".event").css({opacity:1})})}function gmap_resize(){var c=$("#content");var gm=$("#gmap-iframe");var w=parseInt(c.css("width"))-2;var css={width:w+"px","margin-left":"-"+c.css("padding-left"),"margin-bottom":"-"+c.css("padding-bottom")};gm.css(css)}